import {
  MessageSquare,
  Globe,
  Webhook,
  Code,
  Database,
  Brain,
  Cloud,
  Mail,
  Users,
  Video,
  Phone,
  CheckSquare,
  Calendar,
  BarChart2,
  ShoppingCart,
  Rocket,
  Twitter,
  FileSpreadsheet,
  HardDrive,
  Palette,
  Youtube,
} from 'lucide-react';
import type { LucideIcon } from 'lucide-react';

interface IntegrationIconProps {
  integrationId: string;
  size?: number;
  className?: string;
  forceColor?: string; // Override brand color (e.g., 'white')
}

// Brand colors for integrations
const INTEGRATION_COLORS: Record<string, string> = {
  discord: '#5865F2',
  slack: '#4A154B',
  telegram: '#0088cc',
  teams: '#6264A7',
  zoom: '#2D8CFF',
  twilio: '#F22F46',
  referralmonk: '#25D366', // WhatsApp green
  notion: '#000000',
  airtable: '#18BFFF',
  trello: '#0052CC',
  clickup: '#7B68EE',
  calendly: '#006BFF',
  github: '#181717',
  gitlab: '#FC6D26',
  linear: '#5E6AD2',
  jira: '#0052CC',
  hubspot: '#FF7A59',
  leadsquared: '#00BFFF',
  sendgrid: '#1A82E2',
  brevo: '#0B996E',
  mailchimp: '#FFE01B',
  mixpanel: '#7856FF',
  posthog: '#1D4AFF',
  shopify: '#96BF48',
  netlify: '#00C7B7',
  openai: '#10A37F',
  anthropic: '#CC9B7A',
  google_ai: '#4285F4',
  aws_s3: '#FF9900',
  x_twitter: '#000000',
  custom_webhook: 'var(--color-accent)',
  rest_api: 'var(--color-accent)',
  mongodb: '#47A248',
  redis: '#DC382D',
  composio_googlesheets: '#34A853', // Google green
  composio_gmail: '#EA4335', // Gmail red
  composio_linkedin: '#0A66C2', // LinkedIn blue
  composio_googlecalendar: '#4285F4', // Google blue
  composio_googledrive: '#4285F4', // Google blue
  composio_canva: '#00C4CC', // Canva teal
  composio_twitter: '#000000', // X/Twitter black
  composio_youtube: '#FF0000', // YouTube red
  composio_zoom: '#2D8CFF', // Zoom blue
  unipile: '#6C5CE7', // Unipile purple
};

// Lucide icon fallbacks
const FALLBACK_ICONS: Record<string, LucideIcon> = {
  discord: MessageSquare,
  slack: MessageSquare,
  telegram: MessageSquare,
  teams: MessageSquare,
  zoom: Video,
  twilio: Phone,
  referralmonk: MessageSquare,
  notion: Database,
  airtable: Database,
  trello: Database,
  clickup: CheckSquare,
  calendly: Calendar,
  github: Code,
  gitlab: Code,
  linear: Code,
  jira: Code,
  hubspot: Users,
  leadsquared: Users,
  sendgrid: Mail,
  brevo: Mail,
  mailchimp: Mail,
  mixpanel: BarChart2,
  posthog: BarChart2,
  shopify: ShoppingCart,
  netlify: Rocket,
  openai: Brain,
  anthropic: Brain,
  google_ai: Brain,
  aws_s3: Cloud,
  x_twitter: Twitter,
  custom_webhook: Webhook,
  rest_api: Globe,
  composio_googlesheets: FileSpreadsheet,
  composio_gmail: Mail,
  composio_linkedin: Users,
  composio_googlecalendar: Calendar,
  composio_googledrive: HardDrive,
  composio_canva: Palette,
  composio_twitter: Twitter,
  composio_youtube: Youtube,
  composio_zoom: Video,
  mongodb: Database,
  redis: Database,
  unipile: MessageSquare,
};

// SVG icons for popular integrations
const SVGIcons: Record<string, (size: number, color: string) => JSX.Element> = {
  discord: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" />
    </svg>
  ),
  slack: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zm1.271 0a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zm0 1.271a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zm10.122 2.521a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zm-1.268 0a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zm-2.523 10.122a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zm0-1.268a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" />
    </svg>
  ),
  telegram: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z" />
    </svg>
  ),
  github: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
    </svg>
  ),
  gitlab: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="m23.6 9.593-.033-.086L20.3.98a.851.851 0 0 0-.336-.405.87.87 0 0 0-.52-.157.88.88 0 0 0-.52.168.86.86 0 0 0-.324.413L16.25 7.32H7.75L5.4 1a.866.866 0 0 0-.324-.413.87.87 0 0 0-.52-.168.87.87 0 0 0-.52.157.85.85 0 0 0-.336.405L.433 9.507l-.032.086a6.066 6.066 0 0 0 2.012 7.01l.01.008.028.02 4.98 3.727 2.462 1.863 1.5 1.132a1.008 1.008 0 0 0 1.214 0l1.5-1.132 2.462-1.863 5.007-3.746.012-.01a6.07 6.07 0 0 0 2.012-7.01z" />
    </svg>
  ),
  notion: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.98-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.166V6.354c0-.606-.233-.933-.748-.886l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.933.653.933 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.448-1.632z" />
    </svg>
  ),
  openai: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365 2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z" />
    </svg>
  ),
  anthropic: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M17.304 3.541h-3.672l6.696 16.918h3.672l-6.696-16.918Zm-10.608 0L0 20.459h3.744l1.368-3.6h6.624l1.368 3.6h3.744L10.152 3.541H6.696Zm.576 10.776 2.352-6.192 2.352 6.192H7.272Z" />
    </svg>
  ),
  linear: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M2.89 17.836a11.947 11.947 0 0 1-.903-3.47l6.032 6.032a11.946 11.946 0 0 1-3.47-.903l-1.66-1.66Zm-.903-6.508a12.068 12.068 0 0 1 .686-2.9l8.79 8.79a12.067 12.067 0 0 1-2.901.687l-6.575-6.577Zm2.248-5.322a11.965 11.965 0 0 1 2.3-2.3l13.66 13.66a11.965 11.965 0 0 1-2.3 2.3L4.235 6.006Zm5.188-3.357a12.074 12.074 0 0 1 2.9-.686l6.577 6.575a12.068 12.068 0 0 1-.686 2.901l-8.79-8.79Zm5.802-.657A11.952 11.952 0 0 1 12 1.91c3.114 0 5.96 1.189 8.091 3.139L6.95 18.19a10.092 10.092 0 0 1-3.138-8.091c.072-1.165.31-2.282.69-3.33l8.771 8.771a.653.653 0 0 0 .924-.924L4.426 5.844A11.936 11.936 0 0 1 12 1.909c1.172 0 2.307.171 3.377.488l-6.154 6.154a.653.653 0 1 0 .924.924l6.154-6.154c.317 1.07.488 2.206.488 3.378a10.092 10.092 0 0 1-3.139 7.842l-6.154 6.154a.653.653 0 0 0 .924.924l6.154-6.154a11.936 11.936 0 0 1-2.349 1.58l8.771 8.771a11.949 11.949 0 0 1-3.47.903l-6.032-6.032a11.949 11.949 0 0 1 .903-3.47l3.178 3.178a.653.653 0 0 0 .924-.924l-3.178-3.178a11.964 11.964 0 0 1 2.3-2.3l3.178 3.178a.653.653 0 0 0 .924-.924l-3.178-3.178A11.949 11.949 0 0 1 21.09 12a11.949 11.949 0 0 1-.903 3.47l-6.032-6.032a11.949 11.949 0 0 1 3.47-.903l1.66 1.66a11.949 11.949 0 0 1 .903 3.47l-6.577-6.577a12.068 12.068 0 0 1 2.9-.686l8.79 8.79a12.068 12.068 0 0 1-.686 2.901l-8.79-8.79a12.067 12.067 0 0 1 .686-2.9l6.575 6.577Z" />
    </svg>
  ),
  jira: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M11.571 11.513H0a5.218 5.218 0 0 0 5.232 5.215h2.13v2.057A5.215 5.215 0 0 0 12.575 24V12.518a1.005 1.005 0 0 0-1.005-1.005zm5.723-5.756H5.736a5.215 5.215 0 0 0 5.215 5.214h2.129v2.058a5.218 5.218 0 0 0 5.215 5.214V6.758a1.001 1.001 0 0 0-1.001-1.001zM23.013 0H11.455a5.215 5.215 0 0 0 5.215 5.215h2.129v2.057A5.215 5.215 0 0 0 24 12.483V1.005A1.005 1.005 0 0 0 23.013 0Z" />
    </svg>
  ),
  trello: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M21 0H3C1.343 0 0 1.343 0 3v18c0 1.656 1.343 3 3 3h18c1.656 0 3-1.344 3-3V3c0-1.657-1.344-3-3-3zM10.44 18.18c0 .795-.645 1.44-1.44 1.44H4.56c-.795 0-1.44-.645-1.44-1.44V4.56c0-.795.645-1.44 1.44-1.44H9c.795 0 1.44.645 1.44 1.44v13.62zm10.44-6c0 .794-.645 1.44-1.44 1.44H15c-.795 0-1.44-.646-1.44-1.44V4.56c0-.795.645-1.44 1.44-1.44h4.44c.795 0 1.44.645 1.44 1.44v7.62z" />
    </svg>
  ),
  zoom: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M4.585 6.836a2.25 2.25 0 0 0-2.25 2.25v5.828a2.25 2.25 0 0 0 2.25 2.25h9.624a2.25 2.25 0 0 0 2.25-2.25v-1.254l3.709 2.542a.875.875 0 0 0 1.382-.716V8.514a.875.875 0 0 0-1.382-.716l-3.709 2.542V9.086a2.25 2.25 0 0 0-2.25-2.25H4.585z" />
    </svg>
  ),
  brevo: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M20.258 11.258c0 4.167-3.378 7.545-7.545 7.545H5.545V7.545c0-4.167 3.378-7.545 7.545-7.545h.087c3.552.087 6.543 2.57 7.372 5.93.174.696.261 1.392.261 2.088v3.24h-.552zM12.8 22.8c5.93 0 10.8-4.87 10.8-10.8V1.2h-2.4v10.8c0 4.64-3.76 8.4-8.4 8.4H1.2v2.4h11.6zm0-6c3.313 0 6-2.687 6-6V4.8h-6c-3.313 0-6 2.687-6 6v6h6z" />
    </svg>
  ),
  twilio: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M12 0C5.381 0 0 5.381 0 12s5.381 12 12 12 12-5.381 12-12S18.619 0 12 0zm0 20.25c-4.556 0-8.25-3.694-8.25-8.25S7.444 3.75 12 3.75s8.25 3.694 8.25 8.25-3.694 8.25-8.25 8.25zm3.075-11.325c-1.242 0-2.25 1.008-2.25 2.25s1.008 2.25 2.25 2.25 2.25-1.008 2.25-2.25-1.008-2.25-2.25-2.25zm-6.15 0c-1.242 0-2.25 1.008-2.25 2.25s1.008 2.25 2.25 2.25 2.25-1.008 2.25-2.25-1.008-2.25-2.25-2.25z" />
    </svg>
  ),
  clickup: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M2.832 14.656l2.88-2.16L12 17.616l6.288-5.12 2.88 2.16L12 22.176l-9.168-7.52zM12 13.44l-6.24-5.088L2.88 10.56 12 18.08l9.12-7.52-2.88-2.208L12 13.44zM12 1.824L2.832 9.344l2.88 2.16L12 6.384l6.288 5.12 2.88-2.16L12 1.824z" />
    </svg>
  ),
  calendly: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M19.5 3h-3V1.5a.5.5 0 0 0-1 0V3h-7V1.5a.5.5 0 0 0-1 0V3h-3A2.5 2.5 0 0 0 2 5.5v13A2.5 2.5 0 0 0 4.5 21h15a2.5 2.5 0 0 0 2.5-2.5v-13A2.5 2.5 0 0 0 19.5 3zM21 18.5a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 3 18.5V8h18v10.5zM12 10a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm0 7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
    </svg>
  ),
  mixpanel: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
    </svg>
  ),
  posthog: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 50 30" fill={color}>
      <path d="M10.8914 17.2057c-.3685.7371-1.42031.7371-1.78884 0L8.2212 15.443c-.14077-.2815-.14077-.6129 0-.8944l.88136-1.7627c.36853-.7371 1.42034-.7371 1.78884 0l.8814 1.7627c.1407.2815.1407.6129 0 .8944l-.8814 1.7627zM10.8914 27.2028c-.3685.737-1.42031.737-1.78884 0L8.2212 25.44c-.14077-.2815-.14077-.6129 0-.8944l.88136-1.7627c.36853-.7371 1.42034-.7371 1.78884 0l.8814 1.7627c.1407.2815.1407.6129 0 .8944l-.8814 1.7628z" />
      <path d="M0 23.4082c0-.8909 1.07714-1.3371 1.70711-.7071l4.58338 4.5834c.62997.63.1838 1.7071-.7071 1.7071H.999999c-.552284 0-.999999-.4477-.999999-1v-4.5834zm0-4.8278c0 .2652.105357.5196.292893.7071l9.411217 9.4112c.18753.1875.44189.2929.70709.2929h5.1692c.8909 0 1.3371-1.0771.7071-1.7071L1.70711 12.7041C1.07714 12.0741 0 12.5203 0 13.4112v5.1692zm0-9.99701c0 .26521.105357.51957.292893.7071L19.7011 28.6987c.1875.1875.4419.2929.7071.2929h5.1692c.8909 0 1.3371-1.0771.7071-1.7071L1.70711 2.70711C1.07715 2.07715 0 2.52331 0 3.41421v5.16918zm9.997 0c0 .26521.1054.51957.2929.7071l17.994 17.99401c.63.63 1.7071.1838 1.7071-.7071v-5.1692c0-.2652-.1054-.5196-.2929-.7071l-17.994-17.994c-.63-.62996-1.7071-.18379-1.7071.70711v5.16918zm11.7041-5.87628c-.63-.62997-1.7071-.1838-1.7071.7071v5.16918c0 .26521.1054.51957.2929.7071l7.997 7.99701c.63.63 1.7071.1838 1.7071-.7071v-5.1692c0-.2652-.1054-.5196-.2929-.7071l-7.997-7.99699z" />
      <path d="M42.5248 23.5308l-9.4127-9.4127c-.63-.63-1.7071-.1838-1.7071.7071v13.1664c0 .5523.4477 1 1 1h14.5806c.5523 0 1-.4477 1-1v-1.199c0-.5523-.4496-.9934-.9973-1.0647-1.6807-.2188-3.2528-.9864-4.4635-2.1971zm-6.3213 2.2618c-.8829 0-1.5995-.7166-1.5995-1.5996 0-.8829.7166-1.5995 1.5995-1.5995.883 0 1.5996.7166 1.5996 1.5995 0 .883-.7166 1.5996-1.5996 1.5996z" />
      <path d="M0 27.9916c0 .5523.447715 1 1 1h4.58339c.8909 0 1.33707-1.0771.70711-1.7071l-4.58339-4.5834C1.07714 22.0711 0 22.5173 0 23.4082v4.5834zM9.997 10.997L1.70711 2.70711C1.07714 2.07714 0 2.52331 0 3.41421v5.16918c0 .26521.105357.51957.292893.7071L9.997 18.9946V10.997zM1.70711 12.7041C1.07714 12.0741 0 12.5203 0 13.4112v5.1692c0 .2652.105357.5196.292893.7071L9.997 28.9916V20.994l-8.28989-8.2899z" />
      <path d="M19.994 11.4112c0-.2652-.1053-.5196-.2929-.7071l-7.997-7.99699c-.6299-.62997-1.70709-.1838-1.70709.7071v5.16918c0 .26521.10539.51957.29289.7071l9.7041 9.70411v-7.5834zM9.99701 28.9916h5.58339c.8909 0 1.3371-1.0771.7071-1.7071L9.99701 20.994v7.9976zM9.99701 10.997v7.5834c0 .2652.10539.5196.29289.7071l9.7041 9.7041v-7.5834c0-.2652-.1053-.5196-.2929-.7071L9.99701 10.997z" />
    </svg>
  ),
  shopify: (size, color) => (
    <svg width={size} height={45} viewBox="0 0 24 24" fill={color}>
      <path d="M20.919 4.546c-0.025 0-0.075 0.026-0.097 0.026s-0.361 0.094-0.892 0.262c-0.529-1.541-1.47-2.962-3.134-2.962h-0.144c-0.356-0.5-0.921-0.832-1.564-0.868l-0.005-0c-3.881 0-5.736 4.845-6.317 7.305-1.492 0.456-2.578 0.795-2.699 0.842-0.844 0.266-0.867 0.29-0.965 1.087-0.094 0.577-2.287 17.574-2.287 17.574l16.946 3.183zM17.18 2.935c0.867 0.092 1.426 1.083 1.786 2.193-0.436 0.142-0.919 0.289-1.447 0.457v-0.315c0.001-0.049 0.002-0.107 0.002-0.165 0-0.777-0.125-1.524-0.355-2.224l0.014 0.050zM16.506 5.727v0.169c-0.942 0.29-1.978 0.605-2.992 0.92 0.264-1.607 1.237-2.944 2.58-3.699l0.026-0.013c0.248 0.705 0.391 1.518 0.391 2.365 0 0.091-0.002 0.182-0.005 0.273l0-0.013zM14.963 2.042c0 0 0.001 0 0.001 0 0.19 0 0.366 0.063 0.507 0.17l-0.002-0.002c-1.749 1.048-2.947 2.861-3.132 4.964l-0.002 0.024c-0.82 0.266-1.616 0.506-2.361 0.722 0.648-2.231 2.216-5.867 4.988-5.867zM15.638 15.132c-0.648-0.32-1.408-0.514-2.211-0.53l-0.005-0c-1.808 0-1.879 1.132-1.879 1.426 0 1.54 4.049 2.143 4.049 5.785 0.014 0.128 0.021 0.277 0.021 0.427 0 2.359-1.912 4.271-4.271 4.271-0.002 0-0.005 0-0.007 0h0c-0.050 0.002-0.108 0.002-0.166 0.002-1.676 0-3.187-0.703-4.255-1.83l-0.003-0.003 0.807-2.607c0.774 0.68 1.745 1.154 2.817 1.328l0.033 0.004c0.012 0 0.025 0.001 0.039 0.001 0.646 0 1.171-0.52 1.18-1.165v-0.001c0-2.023-3.317-2.117-3.317-5.447-0-0.020-0-0.044-0-0.068 0-3.026 2.453-5.478 5.478-5.478 0.195 0 0.388 0.010 0.578 0.030l-0.024-0.002c0.077-0.004 0.167-0.007 0.258-0.007 0.756 0 1.474 0.169 2.116 0.471l-0.030-0.013-1.181 3.393zM20.17 30.97l9.017-1.951s-3.254-22.010-3.28-22.156c-0.018-0.133-0.128-0.235-0.263-0.24h-0c-0.121 0-2.411-0.17-2.411-0.17s-1.593-1.592-1.798-1.763c-0.043-0.039-0.093-0.070-0.148-0.091l-0.003-0.001-1.142 26.372z"></path>
    </svg>
  ),
  netlify: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M17.13 8.13l-.36-.36c-.11-.11-.29-.11-.4 0l-.36.36c-.11.11-.11.29 0 .4l.36.36c.11.11.29.11.4 0l.36-.36c.11-.11.11-.29 0-.4zM6.87 8.13l-.36-.36a.28.28 0 0 0-.4 0l-.36.36a.28.28 0 0 0 0 .4l.36.36c.11.11.29.11.4 0l.36-.36c.11-.11.11-.29 0-.4zM12 2L1 7.5v9L12 22l11-5.5v-9L12 2zm7.91 13.36l-7.52 3.76a.8.8 0 0 1-.78 0l-7.52-3.76a.4.4 0 0 1 0-.72l2.08-1.04 5.05 2.52c.24.12.51.18.78.18s.54-.06.78-.18l5.05-2.52 2.08 1.04a.4.4 0 0 1 0 .72zm0-3l-7.52 3.76a.8.8 0 0 1-.78 0L4.09 12.36a.4.4 0 0 1 0-.72l2.08-1.04 5.05 2.52c.24.12.51.18.78.18s.54-.06.78-.18l5.05-2.52 2.08 1.04a.4.4 0 0 1 0 .72zm0-3l-7.52 3.76a.8.8 0 0 1-.78 0L4.09 9.36a.4.4 0 0 1 0-.72L11.61 5a.8.8 0 0 1 .78 0l7.52 3.64a.4.4 0 0 1 0 .72z" />
    </svg>
  ),
  x_twitter: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
    </svg>
  ),
  mongodb: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z" />
    </svg>
  ),
  redis: (size, color) => (
    <svg width={size} height={size} viewBox="0 0 24 24" fill={color}>
      <path d="M10.5 2.661l-8.571 4.5c-.333.167-.333.5 0 .667l8.571 4.5c.333.167.667.167 1 0l8.571-4.5c.333-.167.333-.5 0-.667l-8.571-4.5c-.333-.167-.667-.167-1 0zM1.929 11.661l8.571 4.5c.333.167.667.167 1 0l8.571-4.5c.333-.167.333-.5 0-.667l-1.5-.786-7.071 3.786c-.333.167-.667.167-1 0L3.429 10.208l-1.5.786c-.333.167-.333.5 0 .667zm0 4l8.571 4.5c.333.167.667.167 1 0l8.571-4.5c.333-.167.333-.5 0-.667l-1.5-.786-7.071 3.786c-.333.167-.667.167-1 0l-7.071-3.786-1.5.786c-.333.167-.333.5 0 .667z" />
    </svg>
  ),
};

export const IntegrationIcon = ({
  integrationId,
  size = 24,
  className = '',
  forceColor,
}: IntegrationIconProps) => {
  const color = forceColor || INTEGRATION_COLORS[integrationId] || 'var(--color-text-secondary)';

  // Check for SVG icon first
  if (SVGIcons[integrationId]) {
    return (
      <span className={`inline-flex items-center justify-center ${className}`}>
        {SVGIcons[integrationId](size, color)}
      </span>
    );
  }

  // Fall back to Lucide icon
  const LucideIcon = FALLBACK_ICONS[integrationId] || Globe;
  return (
    <span className={`inline-flex items-center justify-center ${className}`}>
      <LucideIcon size={size} style={{ color }} />
    </span>
  );
};

export default IntegrationIcon;
