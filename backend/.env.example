# Server Configuration
PORT=3001
ENVIRONMENT=development  # Options: development, testing, production (REQUIRED)

# MongoDB Configuration
# Flexible deployment - use any MongoDB instance:
# - Local Docker: mongodb://localhost:27017/claraverse
# - MongoDB Atlas: mongodb+srv://user:pass@cluster.mongodb.net/claraverse
# - Self-hosted: mongodb://user:pass@your-server:27017/claraverse
MONGODB_URI=mongodb://localhost:27017/claraverse

# Encryption Configuration
# Generate a secure 32-byte hex key: openssl rand -hex 32
# This key is used to encrypt user data (workflows, conversations, executions)
# WARNING: Losing this key means losing access to all encrypted data!
ENCRYPTION_MASTER_KEY=

# Provider Configuration
PROVIDERS_FILE=providers.json

# Supabase Authentication (REQUIRED in production, optional in development)
# Get these from https://app.supabase.com/project/_/settings/api
# SUPABASE_URL: Your project URL (e.g., https://xxxxx.supabase.co)
# SUPABASE_KEY: Your service role key (not anon key) for backend validation
# WARNING: Leaving these empty in production will cause the server to terminate
SUPABASE_URL=
SUPABASE_KEY=

# SearXNG Web Search (Optional)
# Docker: Use http://searxng:8080 (automatically provided in docker-compose)
# Local dev: Set up your own SearXNG instance at http://localhost:8080
SEARXNG_URL=http://searxng:8080

# File Upload Configuration
# Directory for storing uploaded files
UPLOAD_DIR=./uploads
# Maximum file size in bytes (20MB default)
MAX_FILE_SIZE=20971520

# Security Configuration
# CORS: Comma-separated list of allowed origins (REQUIRED in production)
# Development: http://localhost:5173,http://localhost:3000
# Production: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# FRONTEND_URL: The URL of your frontend (REQUIRED for payment redirects)
# This is where users will be redirected after completing payment
# Development: http://localhost:5173 or http://localhost:3001
# Production: https://yourdomain.com
# Ngrok: https://your-ngrok-url.ngrok-free.app
FRONTEND_URL=http://localhost:5173
# Backend Public URL (for generating absolute download URLs)
# Used by tools to generate full URLs that LLMs can use directly
# Docker: http://localhost:3001 (or your public domain in production)
# Production: https://api.yourdomain.com
BACKEND_URL=http://localhost:3001

# E2B Code Interpreter Service (REQUIRED for Python code execution)
# Get your API key from https://e2b.dev/dashboard
# Example: E2B_API_KEY=e2b_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
E2B_API_KEY=
# E2B Service URL (automatically set in Docker, use http://localhost:8001 for local dev)
E2B_SERVICE_URL=http://e2b-service:8001

# Promotional Campaign Configuration
# Enable this to give new signups a temporary pro plan during the promotional period
# Example: January 2025 - give all new users 30 days of pro plan
PROMO_ENABLED=false
# Start date in RFC3339 format (UTC timezone)
PROMO_START_DATE=2025-01-01T00:00:00Z
# End date in RFC3339 format (UTC timezone) - exclusive
PROMO_END_DATE=2025-02-01T00:00:00Z
# Duration of promotional pro plan in days (from signup date)
PROMO_DURATION_DAYS=30
